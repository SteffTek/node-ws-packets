(()=>{var e={652:e=>{const Validator=(e,t)=>{const r=void 0===function recursion(e,t){if(!e||!t)return!1;for(let r in t){if(!(t[r]instanceof DetailedValue||e.hasOwnProperty(r)))return!1;let i=t[r],s=e[r];switch(i){case String:if("string"!=typeof s)return!1;break;case Number:if(isNaN(s)||"number"!=typeof s)return!1;break;case Boolean:if("boolean"!=typeof s)return!1;break;case Array:if(!Array.isArray(s))return!1;break;case Object:if(!(s instanceof Object))return!1;break;default:if(i instanceof DetailedValue){if(void 0!==i.validate(s))return!1;break}if("object"!=typeof i)return!1;if(Array.isArray(i)&&!Array.isArray(s))return!1;if(Array.isArray(i)&&Array.isArray(s))for(let e in s){if(void 0!==recursion([s[e]],[i[0]]))return!1}else{if(void 0!==recursion(s,i))return!1}}}}(e,t);return r};class DetailedValue{constructor(e,{required:t=!0,min:r=null,max:i=null,isEmail:s=!1}={}){this.type=e,this.required=t,this.min=r,this.max=i,this.isEmail=s}validate(e){const t=Validator([e],[this.type]);if(!this.required&&!e&&!t)return;if(this.required&&!e&&!t)return!1;let r=0;return[String,Array].includes(this.type)||Array.isArray(this.type)?r=e.length:this.type===Number&&(r=e),!(this.min&&r<this.min)&&(!(this.max&&r>this.max)&&(!(this.isEmail&&!this.validateEmail(e,!0))&&(!!t&&void 0)))}validateEmail(e,t=!1){let r=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t&&(r=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),r.test(String(e).toLowerCase())}}e.exports&&(e.exports={Validator,DetailedValue})},318:e=>{e.exports=class Client{constructor(e,{log:t=!1}={}){this.log=t,this.ws=e,this.packets={},this.callbacks={onError:[],onConnect:[],onDisconnect:[]};const open=()=>{this.log&&console.log("New connection established"),e.sendPacket=t=>{const r=this.encode(t);delete r.model,1===e.readyState&&e.send(JSON.stringify(r))},this.callbacks.onConnect.forEach((t=>{t(e)}))},message=e=>{try{this.handle(e)}catch(e){this.log&&console.error("Error on incoming message!",e)}},close=t=>{this.callbacks.onDisconnect.forEach((r=>{r(e,t)}))},error=t=>{this.callbacks.onError.forEach((r=>{r(e,t)}))};e.on?e.on("open",open):e.onopen=open,e.on?e.on("close",close):e.onclose=close,e.on?e.on("message",message):e.onmessage=message,e.on?e.on("error",error):e.onerror=error,this.log&&console.log("PacketClient initialized!")}addPacket(e){const t=e.constructor,r=e.name;return this.packets[r]?(this.log&&console.error(`Packet '${r}' already initialized!`),this):(this.packets[r]=t,this.log&&console.log(`Packet '${r}' initialized!`),this)}removePacket(e){const t=e.name;return this.packets[t]?(delete this.packets[t],this.log&&console.log(`Packet '${t}' removed!`),this):(this.log&&console.error(`Packet '${t}' not initialized!`),this)}handle(e){try{let t=JSON.parse(e.data?e.data:e);const r=this.decode(t);if(null===r)return;r.isValid=r.validate(),r.isValid&&r.handle(this.ws)}catch(e){this.log&&console.error("Error while handling event",e)}}encode(e){return e.json()}decode(e){return e.name&&this.packets[e.name]?(delete e.model,Object.assign(new this.packets[e.name],e)):null}onConnect(e){return this.callbacks.onConnect.push(e),this}onDisconnect(e){return this.callbacks.onDisconnect.push(e),this}onError(e){return this.callbacks.onError.push(e),this}}},988:(e,t,r)=>{const{Validator:i,DetailedValue:s}=r(652);e.exports=class Packet{constructor(e,t={},r={}){this.name=e,this.payload=t,this.model=r,this.isValid=this.validate()}handle(e){}validate(){return i(this.payload,this.model)}json(){return this}}}},t={};function __webpack_require__(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,__webpack_require__),s.exports}__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.g.Client=__webpack_require__(318),__webpack_require__.g.Packet=__webpack_require__(988)})();